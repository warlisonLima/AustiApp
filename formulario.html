<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Color theme for statusbar (Android only) -->
    <meta name="theme-color" content="#2196f3">
    <!-- Your app title -->
    <title>Formul√°rio de Interven√ß√£o</title>
    <!-- Path to Framework7 Library Bundle CSS -->
    <link rel="stylesheet" href="lib/framework7-bundle.min.css">
    <!-- CSS PERSONALIZADO PARA MENU-->
    <link rel="stylesheet" href="css/personalizado.css">
    <!--√çcones Material Design-->
    <link rel="stylesheet" href="css/materialdesignicons.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>

<style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .section { margin-bottom: 20px; }
    label { display: block; margin-bottom: 5px; }
    input[type="text"], input[type="date"] { padding: 5px; }
    h1 { color: #3366cc; }
    button { padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer; }
  </style>

<body>
    <!-- App root element -->
    <div id="app">

        <!-- Your main view, should have "view-main" class -->
        <div class="view view-main">
            <!-- Initial Page, "data-name" contains page name -->
            <div data-name="formulario" class="page">

                <!-- Top Navbar 
                <div class="navbar">
                    <div class="navbar-bg"></div>
                    <div class="navbar-inner justify-content-center">
                        <div class="title ">Link 2</div>
                    </div>
                </div>-->

                <!-- Scrollable page content -->
                <div class="page-content">
                    <div class="block">

                        <h1>üìã Formul√°rio de Interven√ß√£o</h1>

                        <div class="section">
                          <label>Nome da Crian√ßa: <input type="text" id="nomeCrianca"></label>
                          <label>Data do Preenchimento: <input type="date" id="dataPreenchimento"></label>
                        </div>
                      
                        <div class="section">
                          <h3>üß† Pontos fortes da crian√ßa</h3>
                          <label><input type="checkbox" name="pontos_fortes" value="Mem√≥ria visual"> Mem√≥ria visual</label>
                          <label><input type="checkbox" name="pontos_fortes" value="Boa coordena√ß√£o motora"> Boa coordena√ß√£o motora</label>
                        </div>
                      
                        <div class="section">
                          <h3>üìà Dificuldades de aprendizagem</h3>
                          <label><input type="checkbox" name="dificuldades" value="Leitura"> Leitura</label>
                          <label><input type="checkbox" name="dificuldades" value="Escrita"> Escrita</label>
                          <label><input type="checkbox" name="dificuldades" value="Aten√ß√£o e foco"> Aten√ß√£o e foco</label>
                          <label><input type="checkbox" name="dificuldades" value="Organiza√ß√£o de tarefas"> Organiza√ß√£o de tarefas</label>
                        </div>
                      
                        <div class="section">
                          <h3>üó£Ô∏è Comunica√ß√£o</h3>
                          <label><input type="checkbox" name="comunicacao" value="N√£o verbal"> N√£o verbal</label>
                          <label><input type="checkbox" name="comunicacao" value="Verbal com dificuldades"> Verbal com dificuldades</label>
                        </div>
                      
                        <div class="section">
                          <h3>üéØ Objetivos</h3>
                          <label><input type="checkbox" name="objetivos" value="Melhorar aten√ß√£o e foco"> Melhorar aten√ß√£o e foco</label>
                        </div>
                      
                        <button id="botaoExportar">üì§ Exportar para PDF</button>
                      
                        <script>
                          document.getElementById("botaoExportar").addEventListener("click", function () {
                            const nomeCrianca = document.getElementById("nomeCrianca").value || "Nome n√£o informado";
                            const dataPreenchimento = document.getElementById("dataPreenchimento").value || "Data n√£o informada";
                      
                            const selecionados = document.querySelectorAll("input[type='checkbox']:checked");
                            let respostas = {};
                            selecionados.forEach(el => {
                              const nome = el.name;
                              if (!respostas[nome]) respostas[nome] = [];
                              respostas[nome].push(el.value);
                            });
                      
                            let plano = `üìã PLANO DE INTERVEN√á√ÉO INDIVIDUALIZADO\n\nüëß Nome da Crian√ßa: ${nomeCrianca}\nüìÖ Data: ${dataPreenchimento}\n\nüîç √ÅREAS A DESENVOLVER E ESTRAT√âGIAS\n`;
                      
                            plano += "\nüìò Cognitivo e Acad√™mico\n";
                            if (respostas.dificuldades?.includes("Leitura")) plano += "- Usar leitura guiada com refor√ßo positivo.\n";
                            if (respostas.dificuldades?.includes("Escrita")) plano += "- Exerc√≠cios de pr√©-escrita com coordena√ß√£o motora.\n";
                            if (respostas.dificuldades?.includes("Aten√ß√£o e foco")) plano += "- Timer visual e atividades pr√°ticas.\n";
                            if (respostas.dificuldades?.includes("Organiza√ß√£o de tarefas")) plano += "- Checklists visuais e passo a passo.\n";
                      
                            plano += "\nüó£Ô∏è Comunica√ß√£o\n";
                            if (respostas.comunicacao?.includes("N√£o verbal")) plano += "- Comunica√ß√£o alternativa (CAA).\n";
                            if (respostas.comunicacao?.includes("Verbal com dificuldades")) plano += "- Jogos de linguagem e apoio fonoaudiol√≥gico.\n";
                      
                            plano += "\nüéØ Metas do semestre\n";
                            if (respostas.objetivos?.includes("Melhorar aten√ß√£o e foco")) plano += "- Estabelecer rotina visual com refor√ßo positivo.\n";
                      
                            const { jsPDF } = window.jspdf;
                            const doc = new jsPDF();
                            doc.setFont("Courier", "normal");
                            const linhas = doc.splitTextToSize(plano, 180);
                            doc.text(linhas, 10, 10);
                            doc.save(`PEI_${nomeCrianca.replace(/\s+/g, '_')}.pdf`);
                          });
                        </script>







                    </div>
                </div>
            </div>



        </div>
    </div>
    </div>
    </div>

    <!-- Path to Framework7 Library Bundle JS-->

</body>

</html>